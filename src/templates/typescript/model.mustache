// This file is generated by model file generator.
// Please do NOT edit.

{{#fields}}
{{#importFilePath}}
import {{type}} from "{{{importFilePath}}}"
{{/importFilePath}}
{{/fields}}
{{#hasUuid}}
import isUuid from "validator/es/lib/isUuid"
{{/hasUuid}}
{{#hasEmail}}
import isEmail from "validator/es/lib/isEmail"
{{/hasEmail}}
import {
  UnexpectedNullError,
  InvalidPropertyError,
} from "./errors"

export default class {{class}} {
  {{#fields}}
  #{{name}}: {{type}} | null = null
  {{/fields}}

  constructor (
  {{#fields}}
    {{name}}: {{type}},
  {{/fields}}
  ) {
  {{#fields}}
    this.{{setterName}}({{name}})
  {{/fields}}
  }
  {{#fields}}

  {{getterName}} (): {{type}} {
    if (this.#{{name}} === null) {
      throw new UnexpectedNullError()
    }
    return this.#{{name}}
  }

  {{setterName}} (value: {{type}}) {
    {{#isUuid}}
    if (!isUuid(value)) {
      throw new InvalidPropertyError()
    }
    {{/isUuid}}
    {{#isEmail}}
    if (!isEmail(value)) {
      throw new InvalidPropertyError()
    }
    {{/isEmail}}
    {{#minLength}}
    if (value.length < {{minLength}}) {
      throw new InvalidPropertyError()
    }
    {{/minLength}}
    {{#maxLength}}
    if (value.length > {{maxLength}}) {
      throw new InvalidPropertyError()
    }
    {{/maxLength}}
    this.#{{name}} = value
  }
  {{/fields}}
}
